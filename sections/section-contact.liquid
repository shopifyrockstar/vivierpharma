<!-- /templates/page.contact.liquid -->

<section class="{{ section.settings.text_color }} {{ section.settings.height }} {{ section.settings.bg }}" data-section-id="{{ section.id }}" data-section-type="contact">
  <div class="{{ section.settings.width }}">
    <div class="text__standard {{ section.settings.align_text }}">
      {% if section.settings.title != blank %}
        <p class="standard__kicker kicker__line">
          {{ section.settings.title }}
        </p>
      {% endif %}
      <div>
        {% form 'contact', id: 'contact-us-page' %}

          {% comment %}
            Successful message
          {% endcomment %}
          {% if form.posted_successfully? %}
            <p class="note form-success">
              {{ 'contact.form.post_success' | t }}
            </p>
          {% endif %}

          {{ form.errors | default_errors }}

          {% for block in section.blocks %}

            {% case block.type %}
    
              {% when 'email' %}
                <div class="float__wrapper" {{ block.shopify_attributes }}>
                  <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  <input type="email" id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[email]" placeholder="{{ block.settings.title }}" autocorrect="off" autocapitalize="off" />
                </div>
    
              {% when 'body' %}
                <div class="float__wrapper" {{ block.shopify_attributes }}>
                  <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  <textarea rows="10" id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[body]" placeholder="{{ block.settings.title }}"></textarea>
                </div>
    
              {% when 'text' %}
                <div class="float__wrapper" {{ block.shopify_attributes }}>
                  <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  <input type="text" id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[{{ block.settings.title | handleize | default: 'text' }}]" placeholder="{{ block.settings.title }}" autocapitalize="words" value="" />
                </div>
    
              {% when 'textarea' %}
                <div class="float__wrapper" {{ block.shopify_attributes }}>
                  <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  <textarea rows="10" id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[{{ block.settings.title | handleize | default: 'textarea' }}]" placeholder="{{ block.settings.title }}"></textarea>
                </div>
    
              {% when 'telephone' %}
                <div class="float__wrapper" {{ block.shopify_attributes }}>
                  <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  <input type="tel" id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[telephone]" placeholder="{{ block.settings.title }}" value="" />
                </div>

              {% when 'form_heading' %}
                <div class="contact__block" {{ block.shopify_attributes }}>
                  <p class="strong">{{ block.settings.title }}</p>
                </div>
    
              {% when 'spacer' %}
                {%- assign hr_class = 'hr--small hr--clear' -%}
                {%- if block.settings.line -%}
                  {%- assign hr_class = 'hr--small' -%}
                {%- endif -%}
                <div class="contact__block">
                  <hr class="{{ hr_class }}" {{ block.shopify_attributes }}>
                </div>
    
              {% when 'checkbox' %}
                <div class="contact__block" {{ block.shopify_attributes }}>
                  <div class="contact__check">
                    <input type="checkbox" id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[{{ block.settings.title | handleize | default: 'checkbox' }}]" value="{{ block.settings.title }}">
                    <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  </div>
                </div>
    
              {% when 'radio' %}
                <fieldset class="contact__block" {{ block.shopify_attributes }}>
                  {% if block.settings.title != blank %}
                    <legend>{{ block.settings.title }}</legend>
                  {% endif %}
                  {% if block.settings.label_one != blank %}
                    <div class="contact__radio">
                      <input type="radio" id="Form-{{ section.id }}-{{ forloop.index0 }}-1" name="contact[{{ block.settings.title | handleize | default: 'radio' }}]" value="{{ block.settings.label_one }}">
                      <label for="Form-{{ section.id }}-{{ forloop.index0 }}-1">{{ block.settings.label_one }}</label>
                    </div>
                  {% endif %}
                  {% if block.settings.label_two != blank %}
                    <div class="contact__radio">
                      <input type="radio" id="Form-{{ section.id }}-{{ forloop.index0 }}-2" name="contact[{{ block.settings.title | handleize | default: 'radio' }}]" value="{{ block.settings.label_two }}">
                      <label for="Form-{{ section.id }}-{{ forloop.index0 }}-2">{{ block.settings.label_two }}</label>
                    </div>
                  {% endif %}
                  {% if block.settings.label_three != blank %}
                    <div class="contact__radio">
                      <input type="radio" id="Form-{{ section.id }}-{{ forloop.index0 }}-3" name="contact[{{ block.settings.title | handleize | default: 'radio' }}]" value="{{ block.settings.label_three }}">
                      <label for="Form-{{ section.id }}-{{ forloop.index0 }}-3">{{ block.settings.label_three }}</label>
                    </div>
                  {% endif %}
                  {% if block.settings.label_four != blank %}
                    <div class="contact__radio">
                      <input type="radio" id="Form-{{ section.id }}-{{ forloop.index0 }}-4" name="contact[{{ block.settings.title | handleize | default: 'radio' }}]" value="{{ block.settings.label_four }}">
                      <label for="Form-{{ section.id }}-{{ forloop.index0 }}-4">{{ block.settings.label_four }}</label>
                    </div>
                  {% endif %}
                  {% if block.settings.label_five != blank %}
                    <div class="contact__radio">
                      <input type="radio" id="Form-{{ section.id }}-{{ forloop.index0 }}-5" name="contact[{{ block.settings.title | handleize | default: 'radio' }}]" value="{{ block.settings.label_five }}">
                      <label for="Form-{{ section.id }}-{{ forloop.index0 }}-5">{{ block.settings.label_five }}</label>
                    </div>
                  {% endif %}
                  {% if block.settings.label_six != blank %}
                    <div class="contact__radio">
                      <input type="radio" id="Form-{{ section.id }}-{{ forloop.index0 }}-6" name="contact[{{ block.settings.title | handleize | default: 'radio' }}]" value="{{ block.settings.label_six }}">
                      <label for="Form-{{ section.id }}-{{ forloop.index0 }}-6">{{ block.settings.label_six }}</label>
                    </div>
                  {% endif %}
                </fieldset>
    
              {% when 'select' %}
                <fieldset class="contact__block" {{ block.shopify_attributes }}>
                  {% if block.settings.title != blank %}
                    <label for="Form-{{ section.id }}-{{ forloop.index0 }}">{{ block.settings.title }}</label>
                  {% endif %}
                  <select id="Form-{{ section.id }}-{{ forloop.index0 }}" name="contact[{{ block.settings.title | handleize | default: 'select' }}]">
                    {% if block.settings.label_one != blank %}
                      <option value="{{ block.settings.label_one }}">{{ block.settings.label_one }}</option>
                    {% endif %}
                    {% if block.settings.label_two != blank %}
                      <option value="{{ block.settings.label_two }}">{{ block.settings.label_two }}</option>
                    {% endif %}
                    {% if block.settings.label_three != blank %}
                      <option value="{{ block.settings.label_three }}">{{ block.settings.label_three }}</option>
                    {% endif %}
                    {% if block.settings.label_four != blank %}
                      <option value="{{ block.settings.label_four }}">{{ block.settings.label_four }}</option>
                    {% endif %}
                    {% if block.settings.label_five != blank %}
                      <option value="{{ block.settings.label_five }}">{{ block.settings.label_five }}</option>
                    {% endif %}
                    {% if block.settings.label_six != blank %}
                      <option value="{{ block.settings.label_six }}">{{ block.settings.label_six }}</option>
                    {% endif %}
    
                  </select>
                </fieldset>
            {% endcase %}
          {% endfor %}
    
          {% assign types = '' %}
          {% for block in section.blocks %}
            {% assign types = types | append: block.type %}
          {% endfor %}
    
          {% unless types contains "email" %}
            <div class="float__wrapper">
              <label for="ContactFormEmail">{{ 'contact.form.email' | t }}</label>
              <input type="email" id="ContactFormEmail" name="contact[email]" placeholder="{{ 'contact.form.email' | t }}" autocorrect="off" autocapitalize="off" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}">
            </div>
          {% endunless %}
    
          {% unless types contains "body" %}
            <div class="float__wrapper contact__block">
              <label for="ContactFormMessage">{{ 'contact.form.message' | t }}</label>
              <textarea rows="10" id="ContactFormMessage" name="contact[body]" placeholder="{{ 'contact.form.message' | t }}">{% if form.body %}{{ form.body }}{% endif %}</textarea>
            </div>
          {% endunless %}

          <div class="form__legal">
            {{ 'shopify.online_store.spam_detection.disclaimer_html' | t }}
          </div>

          <button type="submit" class="btn uppercase">
            {{ 'contact.form.send' | t }}
          </button>
        {% endform %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Contact form",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "select",
      "id": "align_text",
      "label": "Title alignment",
      "default": "text-left",
      "options": [
        { "value": "text-left","label": "Left" },
        { "value": "text-center","label": "Centered" }
      ]
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "select",
      "id": "height",
      "label": "Height",
      "default": "margin--medium",
      "options": [
        { "value": "margin--large", "label": "Large" },
        { "value": "margin--medium", "label": "Medium" },
        { "value": "margin--small", "label": "Small" },
        { "value": "margin--zero", "label": "Natural" }
      ]
    },
    {
      "type": "select",
      "id": "width",
      "label": "Width",
      "default": "wrapper--narrow",
      "options": [
        { "value": "wrapper--narrow", "label": "Narrow" },
        { "value": "wrapper", "label": "Wide" },
        { "value": "wrapper--full", "label": "Full width" }
      ]
    },
    {
      "type": "select",
      "id": "text_color",
      "label": "Text color",
      "default": "text--neutral",
      "options": [
        { "value": "text--neutral", "label": "Normal text"},
        { "value": "text--white", "label": "White"},
        { "value": "text--primary", "label": "Primary accent"},
        { "value": "text--secondary", "label": "Secondary accent"},
        { "value": "text--black", "label": "Black"},
        { "value": "text--invert--primary", "label": "Primary dark accent"},
        { "value": "text--invert--secondary", "label": "Secondary dark accent"},
        { "value": "text--invert", "label": "Inverted text color"}
      ]
    },
    {
      "type": "select",
      "id": "bg",
      "label": "Background color",
      "default": "palette--light bg--neutral",
      "options": [
        { "value": "palette--light bg--neutral", "label": "Default"},
        { "value": "palette--light bg--accent", "label": "Light"},
        { "value": "palette--dark bg--invert", "label": "Dark"},
        { "value": "palette--dark bg--invert--accent", "label": "Dark accent"}
      ]
    }
  ],
  "blocks": [
    {
      "type": "email",
      "name": "Email",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Label",
          "default": "Email"
        }
      ]
    },
    {
      "type": "body",
      "name": "Message",
      "limit": 1,
      "settings": [
        {
          "type": "textarea",
          "id": "title",
          "label": "Label",
          "default": "Message"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text line",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Label",
          "default": "Full Name",
          "info": "Example: Full Name"
        }
      ]
    },
    {
      "type": "textarea",
      "name": "Text area",
      "settings": [
        {
          "type": "textarea",
          "id": "title",
          "label": "Label",
          "default": "Enter your message",
          "info": "Example: Enter your message"
        }
      ]
    },
    {
      "type": "telephone",
      "name": "Telephone",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Label",
          "default": "Phone Number",
          "info": "Example: Phone Number"
        }
      ]
    },
    {
      "type": "form_heading",
      "name": "Heading",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Heading",
          "info": "Use to break up longer forms"
        }
      ]
    },
    {
      "type": "spacer",
      "name": "Spacer",
      "settings": [
        {
          "type": "checkbox",
          "id": "line",
          "label": "Show line",
          "default": false
        }
      ]
    },
    {
      "type": "checkbox",
      "name": "Single checkbox",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Label",
          "default": "Checkbox option",
          "info": "Example: Subscribe to newsletter"
        }
      ]
    },
    {
      "type": "select",
      "name": "Select dropdown",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Select an option",
          "info": "Example: Choose a delivery location"
        },
        {
          "type": "header",
          "content": "Include up to six options",
          "info":  "Options with blank text will not appear."
        },
        {
          "type": "text",
          "id": "label_one",
          "default": "Option one",
          "label": "Option one"
        },
        {
          "type": "text",
          "id": "label_two",
          "default": "Option two",
          "label": "Option two"
        },
        {
          "type": "text",
          "id": "label_three",
          "default": "Option three",
          "label": "Option three"
        },
        {
          "type": "text",
          "id": "label_four",
          "default": "Option four",
          "label": "Option four"
        },
        {
          "type": "text",
          "id": "label_five",
          "default": "Option five",
          "label": "Option five"
        },
        {
          "type": "text",
          "id": "label_six",
          "default": "Option six",
          "label": "Option six"
        }
      ]
    },
    {
      "type": "radio",
      "name": "Radio buttons",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Pick an option"
        },
        {
          "type": "header",
          "content": "Include up to six options",
          "info":  "Leave option text blank to exclude"
        },
        {
          "type": "text",
          "id": "label_one",
          "default": "Option one",
          "label": "Option one"
        },
        {
          "type": "text",
          "id": "label_two",
          "default": "Option two",
          "label": "Option two"
        },
        {
          "type": "text",
          "id": "label_three",
          "label": "Option three"
        },
        {
          "type": "text",
          "id": "label_four",
          "label": "Option four"
        },
        {
          "type": "text",
          "id": "label_five",
          "label": "Option five"
        },
        {
          "type": "text",
          "id": "label_six",
          "label": "Option six"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Contact form",
      "category": "Text",
      "blocks": [
        {
          "type": "text"
        },
        {
          "type": "email"
        },
        {
          "type": "body"
        }
      ]
    }
  ]
}
{% endschema %}